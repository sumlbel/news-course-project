{% extends 'base.html.twig' %}

{% block title %}Manage articles - Newscast{% endblock%}

{% block body %}
    <header>
        <h1 class="text-center lead">Manage articles</h1>
    </header>
    <div id="entities-grid">

    </div>

    <div class="margin-height-4 text-center">
        <a class="btn btn-info" href="{{ path('article_edit',{'id':'new'}) }}">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
            Create a new article
        </a>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src={{ asset('assets/ajaxgrid.js') }}></script>
    <script>
        $("#entities-grid").ajaxgrid({
            dataUrl: "http://newscast.com.localhost/app_dev.php/ajax/articles",
            editUrl: "http://newscast.com.localhost/app_dev.php/article/edit",
            sortableColumns: ["id", "title", "author", "category", "publicationDate"],
            filterableColumns: ["id", "title", "author", "category", "publicationDate"],
            rowsPerPage: 5
        });
    </script>
{% endblock %}